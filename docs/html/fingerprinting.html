

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Audio Fingerprinting &mdash; YouTube Audio Matcher  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Python API" href="youtube_audio_matcher.html" />
    <link rel="prev" title="Architecture" href="architecture.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> YouTube Audio Matcher
          

          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Setup and Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Audio Fingerprinting</a></li>
<li class="toctree-l1"><a class="reference internal" href="youtube_audio_matcher.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgments.html">Acknowledgments</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">YouTube Audio Matcher</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Audio Fingerprinting</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/fingerprinting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="audio-fingerprinting">
<h1>Audio Fingerprinting<a class="headerlink" href="#audio-fingerprinting" title="Permalink to this headline">¶</a></h1>
<p>Audio fingerprinting refers to the act of turning audio into a set of hashes.
The first step of this process involves obtaining the <a class="reference external" href="https://en.wikipedia.org/wiki/Spectrogram">spectrogram</a> of the
song/audio, which is effectively a measure of the intensity of the sound
frequencies of the audio over the course of the song. The spectrogram of the
song <em>Phenomenal</em> by Benjai is shown below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The images in this section were generated by the <a class="reference internal" href="yamfp.html"><span class="doc">yamfp</span></a> command line
tool.</p>
</div>
<img alt="_images/spec_full.png" src="_images/spec_full.png" />
<p>Next, we find the peaks in the spectrogram, i.e., the points in the spectrogram
with the greatest amplitude. The spectrogram for the first 10 seconds of the
song is shown below, with the peaks represented by red dots.</p>
<img alt="_images/spec_10_peaks.png" src="_images/spec_10_peaks.png" />
<p>The song’s fingerprints are generated from pairs of peaks in a process known
as combinatorial hashing, in which we iterate through the peaks and, for each
peak, pair it with its neighbors. The number of neighbors we consider is
termed the <em>fanout</em> value. This is shown in the figures below, which are taken
from the paper by Avery Wang, the founder of Shazam (see
<a class="reference internal" href="acknowledgments.html"><span class="doc">Acknowledgments</span></a>).</p>
<img alt="_images/combinatorial_hashing.png" src="_images/combinatorial_hashing.png" />
<p>The figure defines a “target zone” that determines which neighbors to consider
for each peak. Each peak pair is used to generate a hash based on the frequency
and time difference between each point—this constitutes a fingerprint. If we
use a target zone of +1 s to +10 s (and no restriction on the frequency) with a
fanout value of 2, the first 10 seconds of the song generate the following
<em>hash constellation</em>:</p>
<img alt="_images/fingerprint_hash_pairs_10_fanout2.png" src="_images/fingerprint_hash_pairs_10_fanout2.png" />
<p>If we increase the fanout value to 6, it looks more like the following:</p>
<img alt="_images/fingerprint_hash_pairs_10_fanout6.png" src="_images/fingerprint_hash_pairs_10_fanout6.png" />
<p>Increasing the fanout value results in more hash pairs, increasing the
robustness of the fingerprints but also increasing storage requirements
and computation time to find matches, since there can be tens or hundreds
of thousands of hash pairs for an entire song.</p>
<p>More on the algorithm used to match audio fingerprints to fingerprints in the
database can be found in the paper and in the source code (see
<a class="reference internal" href="youtube_audio_matcher.audio.html#youtube_audio_matcher.audio.align_matches" title="youtube_audio_matcher.audio.align_matches"><code class="xref py py-func docutils literal notranslate"><span class="pre">youtube_audio_matcher.audio.align_matches()</span></code></a>).</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="youtube_audio_matcher.html" class="btn btn-neutral float-right" title="Python API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="architecture.html" class="btn btn-neutral float-left" title="Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Najam R Syed

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>