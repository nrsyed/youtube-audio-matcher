

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>yamfp &mdash; YouTube Audio Matcher  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Acknowledgments" href="acknowledgments.html" />
    <link rel="prev" title="yamdl" href="yamdl.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> YouTube Audio Matcher
          

          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Setup and Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="fingerprinting.html">Audio Fingerprinting</a></li>
<li class="toctree-l1"><a class="reference internal" href="youtube_audio_matcher.html">Python API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="cli.html">Command Line Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="yam.html">yam</a></li>
<li class="toctree-l2"><a class="reference internal" href="yamdb.html">yamdb</a></li>
<li class="toctree-l2"><a class="reference internal" href="yamdl.html">yamdl</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">yamfp</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgments.html">Acknowledgments</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">YouTube Audio Matcher</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="cli.html">Command Line Interface</a> &raquo;</li>
        
      <li>yamfp</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/yamfp.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="yamfp">
<h1>yamfp<a class="headerlink" href="#yamfp" title="Permalink to this headline">¶</a></h1>
<p>The <strong>Y</strong>outube <strong>A</strong>udio <strong>M</strong>atcher <strong>F</strong>inger<strong>p</strong>rinting
command line tool <code class="docutils literal notranslate"><span class="pre">yamfp</span></code> can be used to visualize the spectrogram and
fingerprints (peak pair hash constellation) of an audio file.</p>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>usage: yamfp [-h] [--erosion-iterations &lt;int&gt;] [-f &lt;int&gt;]
             [--filter-connectivity {1,2}] [--filter-dilation &lt;int&gt;]
             [--max-time-delta &lt;float&gt;] [--min-time-delta &lt;float&gt;] [-a &lt;dB&gt;]
             [--spectrogram-backend {scipy,matplotlib}]
             [--win-overlap-ratio &lt;float&gt;] [--win-size &lt;int&gt;]
             [-c &lt;channel&gt; [&lt;channel&gt; ...]] [-p] [-F] [-t &lt;title&gt;]
             [--start &lt;seconds&gt;] [--end &lt;seconds&gt;]
             &lt;path&gt;

Visualize an audio file fingerprint by plotting its spectrogram, spectrogram
peaks, and/or fingerprint (peak pairs).

positional arguments:
  &lt;path&gt;                Path to audio file

optional arguments:
  -h, --help            show this help message and exit
  -c &lt;channel&gt; [&lt;channel&gt; ...], --channels &lt;channel&gt; [&lt;channel&gt; ...]
                        Plot only the specified audio channels (beginning at
                        0) (default: None)
  -p, --no-peaks        Do not plot spectrogram peaks (default: False)
  -F, --plot-fingerprints
                        Plot fingerprint constellations between peak pairs
                        instead of plotting spectrogram (default: False)
  -t &lt;title&gt;, --title &lt;title&gt;
                        Set plot title; defaults to filename if omitted
                        (default: None)
  --start &lt;seconds&gt;     Audio segment end time in seconds (beginning of file
                        if omitted) (default: None)
  --end &lt;seconds&gt;       Audio segment end time in seconds (end of file if
                        omitted) (default: None)

fingerprint arguments:
  --erosion-iterations &lt;int&gt;
                        Number of times to apply binary erosion for peak
                        finding (default: 1)
  -f &lt;int&gt;, --fanout &lt;int&gt;
                        Number of adjacent peaks to consider for generating
                        hashes (default: 3)
  --filter-connectivity {1,2}
                        Max filter neighborhood connectivity for peak finding
                        (default: 1)
  --filter-dilation &lt;int&gt;
                        Max filter dilation (neighborhood size) for peak
                        finding (default: 10)
  --max-time-delta &lt;float&gt;
                        Target zone max time offset difference for hashes
                        (default: 10)
  --min-time-delta &lt;float&gt;
                        Target zone min time offset difference for hashes
                        (default: 1)
  -a &lt;dB&gt;, --min-amplitude &lt;dB&gt;
                        Spectogram peak minimum amplitude in dB (default: 10)
  --spectrogram-backend {scipy,matplotlib}
                        Library to use for computing spectrogram (default:
                        scipy)
  --win-overlap-ratio &lt;float&gt;
                        Window overlap as a fraction of window size, in the
                        range [0, 1) (default: 0.5)
  --win-size &lt;int&gt;      Number of samples per FFT window (default: 4096)
</pre></div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">yamfp</span></code> command generates a spectrogram for each channel of
the input file, with the peaks drawn as red dots:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yamfp file.mp3
</pre></div>
</div>
<img alt="_images/yamfp_ex1.png" src="_images/yamfp_ex1.png" />
<p>To select the channels to plot, use the <code class="docutils literal notranslate"><span class="pre">-c</span></code>/<code class="docutils literal notranslate"><span class="pre">--channels</span></code> option followed
by a space-separated list of (zero-indexed) channels to plot. To plot only the
first channel:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yamfp file.mp3 -c <span class="m">0</span>
</pre></div>
</div>
<img alt="_images/yamfp_ex2.png" src="_images/yamfp_ex2.png" />
<p>To select a specific segment of the audio file, use the <code class="docutils literal notranslate"><span class="pre">--start</span></code> and/or
<code class="docutils literal notranslate"><span class="pre">--end</span></code> options. This example plots the segment of the file from 30 seconds
to 40 seconds:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yamfp file.mp3 -c <span class="m">0</span> --start <span class="m">30</span> --end <span class="m">40</span>
</pre></div>
</div>
<img alt="_images/yamfp_ex3.png" src="_images/yamfp_ex3.png" />
<p>To plot the spectrogram without the peaks, add the <code class="docutils literal notranslate"><span class="pre">-p</span></code>/<code class="docutils literal notranslate"><span class="pre">--no-peaks</span></code>
switch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yamfp file.mp3 -c <span class="m">0</span> --start <span class="m">30</span> --end <span class="m">40</span> -p
</pre></div>
</div>
<img alt="_images/yamfp_ex4.png" src="_images/yamfp_ex4.png" />
<p>To plot the hash constellation (fingerprint peak pairs) instead of the
spectrogram, use <code class="docutils literal notranslate"><span class="pre">-F</span></code>/<code class="docutils literal notranslate"><span class="pre">--plot-fingerprints</span></code> switch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yamfp file.mp3 -c <span class="m">0</span> --start <span class="m">30</span> --end <span class="m">40</span> -F
</pre></div>
</div>
<img alt="_images/yamfp_ex5.png" src="_images/yamfp_ex5.png" />
<p>The parameters for computing the spectrogram, peak-finding, and peak pair
selection can be modified as well, per the <cite>fingerprint arguments</cite> section
of the usage help. These parameters are explained in
<a class="reference internal" href="youtube_audio_matcher.audio.html#youtube_audio_matcher.audio.get_spectrogram" title="youtube_audio_matcher.audio.get_spectrogram"><code class="xref py py-func docutils literal notranslate"><span class="pre">youtube_audio_matcher.audio.get_spectrogram()</span></code></a> and
<a class="reference internal" href="youtube_audio_matcher.audio.html#youtube_audio_matcher.audio.find_peaks_2d" title="youtube_audio_matcher.audio.find_peaks_2d"><code class="xref py py-func docutils literal notranslate"><span class="pre">youtube_audio_matcher.audio.find_peaks_2d()</span></code></a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="acknowledgments.html" class="btn btn-neutral float-right" title="Acknowledgments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="yamdl.html" class="btn btn-neutral float-left" title="yamdl" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Najam R Syed

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>